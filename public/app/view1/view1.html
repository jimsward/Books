<div id="frontpage" class="container" >
<div ng-controller="view1Ctrl">
    <div id="users">
<div ng-hide="user"><p>You are not logged in!</p><span ng-click="login()" class="clickable">Login</span>|<span ng-click="signUp()" class="clickable">Sign  Up</span></div>
<p></p>
<div ng-show="user"><span>Welcome {{username}}</span><span ng-click="logout()" class="clickable"> | LOGOUT</span></div>
     </div>
<table class="tbl tablesorter" width="1000" border="1" cellpadding="2">
<thead>
  <tr>
    <th scope="col">Date</th>
    <th scope="col">Reference</th>
    <th scope="col">Number</th>
    <th scope="col">Payee</th>
    <th scope="col">Memo</th>
    <th scope="col">Account</th>
    <th scope="col" class="rtalign">Payment</th>
    <th scope="col" class="rtalign">Deposit</th>
    <th scope="col" class="rtalign">Balance</th>
  </tr>
</thead>
<tbody class="tbody">
	<tr ng-repeat="item in items" ng-class-odd="'odd'" ng-click="openDlg(item)" id={{item.id}}>
    <td class="date">{{item.date | date:'MM/dd/yyyy'}}</td>
    <td class="reference">{{item.reference}}</td>
    <td class="number">{{item.number}}</td>    
    <td class="payee">{{item.payee}}</td>
    <td class="memo">{{item.memo}}</td>
    <td class="account">{{item.account}}</td>    
    <td class="payment rtalign">{{item.payment}}</td>
    <td class="deposit rtalign">{{item.deposit}}</td>    
    <td class="balance rtalign">{{item.balance}}</td>
  </tr>
 </tbody>
</table>
<div id="chkEntryDlg" title="Check Register Entry" editable>
<form novalidate method="POST" id="chkEntryForm" name="chkEntryForm">
<md-content flex class="content" layout="column" layout-fill>
<md-input-container>
<label>Date</label>
<input type="text" name="date" ng-model="item.date" readonly><br>
</md-input-container>
<md-input-container>
<label>Reference</label>
<input type="text" name="reference" ng-model="item.reference" readonly><br>
</md-input-container>
    <md-input-container>
<label>Number</label>
<input type="text" name="number" ng-model="item.number"><br>
        </md-input-container>
    <md-input-container>
<label>Payee</label>
<input type="text" name="payee" ng-model="item.payee" ><br>
        </md-input-container>
    <md-input-container>
<label>Memo</label>
<input type="text" name="memo" ng-model="item.memo"><br>
        </md-input-container>
    <md-input-container>
<label>Account</label>
<input type="text" name="account" ng-model="item.account" listaccts><br>
        </md-input-container>
    <md-input-container>
<label>Payment</label>
<input type="text" name="payment" ng-model="item.payment" ng-disabled="disablePayment" ng-mousedown="clearAmt('payment')" maskmoney ><br>
        </md-input-container>
    <md-input-container>
<label>Deposit</label>
<input type="text" name="deposit" ng-model="item.deposit" ng-disabled="disableDeposit" ng-mousedown="clearAmt('deposit')" maskmoney><br>
        </md-input-container>
</md-content>
</form>
</div><!--chkEntryDlg-->
</div><!--View1Ctrl-->
    <div id="entryForm">
<div ng-controller="entryFormCtl" >
    <form  method="POST" name="entryForm" id="entryForm">
    <md-content flex class="content" layout="row" layout-fill>
        <md-datepicker ng-model="entry.date" id="entrydt" required></md-datepicker>
        <md-input-container>
            <label>Choose Type of Entry</label>
            <md-select ng-model="entry.reference" ng-change="change()">
                <md-option ng-repeat="ref in refs" value="{{ref}}" >
                    {{ref}}
                </md-option>
            </md-select>
            </md-input-container>
    </md-content>
    <md-input-container>
        <label>Number</label>
        <input type="number" name="number" ng-model="entry.number">
        <div ng-messages="entryForm.number.$error">
            <div ng-message="required">This is required!</div>
        </div>
    </md-input-container>
    <md-input-container>
        <label>Payee</label>
        <input type="text" name="payee" ng-model="entry.payee">

    </md-input-container>
    <md-input-container>
        <label>Memo</label>
        <input type="text" name="memo" ng-model="entry.memo">
    </md-input-container>
    <md-input-container>
        <label>Account</label>
        <input type="text" name="account" ng-model="entry.account" required listaccts>
        <div ng-messages="entryForm.account.$error">
            <div ng-message="required">Account is required!</div>
        </div>
    </md-input-container>
    <md-input-container>
        <label>Payment</label>
        <input type="text" name="payment" ng-model="entry.payment" ng-disabled="disablePayment" id="payment" title="Payment" maskmoney/>
    </md-input-container>
    <md-input-container>
        <label>Deposit</label>
        <input type="text" name="deposit" ng-model="entry.deposit" ng-disabled="disableDeposit" id="deposit" title="Deposit" maskmoney/>
    </md-input-container>
<md-content id="formButtons">
    <md-button ng-disabled="!user" class="md-raised .btn" ng-click="cancel()" id=cancelbtn>Cancel</md-button>
    <md-button ng-disabled="!user" class="md-raised .btn" ng-click="add()" id="addbtn">Add</md-button>
</md-content>
</form>
</div>
        </div>
</div><!--container-->
<div ng-controller="schRegDialog">
<!--<button id="search-register" class="btn btn-info" ng-click="openSearch()" title="Opens a dialog where you can choose to search based on date, amount, payee, or account; then manipulate data">Search Register</button>-->

<div id="dialog-form" title="Find Checking Transactions" wdialog>
  <p class="title">Search the Check Register.</p>

    <div>
        <div id="radios">
            <md-radio-group ng-model="obj.key">
                <md-radio-button value="date" class="md-primary">Date</md-radio-button>
                <md-radio-button  value="amount" >Amount</md-radio-button>
                <md-radio-button  value="account" >Account</md-radio-button>
                <md-radio-button  value="payee" >Payee</md-radio-button>
            </md-radio-group>
        </div>
        <div id="choices">

      <md-content><md-datepicker ng-model="date" md-placeholder="Enter date" ng-disabled="!isDate" ng-focus="isDate"></md-datepicker></md-content>
      <md-input-container><input type="text" ng-model="amount" id="dialogAmt" maskmoney ng-disabled="!isAmount" placeholder="Amount" ng-focus="isAmount"/></md-input-container>
      <md-input-container><input type="text" ng-model="account" id="dialogAcct" listaccts ng-disabled="!isAccount" placeholder="Account"/></md-input-container>
      <md-input-container><input type="text" ng-model="payee" id="dialogPayee" ng-disabled="!isPayee" placeholder="Payee"/></md-input-container>

        </div>

</div>
 <table id="resultTable" ng-show="found">
  <caption>Results</caption>
  <thead>
 <tr>
  <th>#</th><th>Date</th><th>Account</th><th>Payment</th><th>Deposit</th>
 </tr>
  </thead>
  <tbody title="Click on a row to see complete contents of the transaction below.">
  <tr ng-repeat="item in results" ng-click="pickRow(item)" ng-class-odd="'odd'">
 	<td>{{$index + 1}}</td>
    <td>{{item.date }}</td>
    <td>{{item.account}}</td>
    <td class="rtalign">{{item.payment}}</td>
    <td class="rtalign">{{item.deposit}}</td>
  </tr>
 </tbody>
 </table>
<form novalidate method="POST" id="resultsForm" name="resultsForm">
<label>Date</label>
<input type="text" name="date" ng-model="entry.date" readonly>
<label>Reference</label>
<input type="text" name="reference" ng-model="entry.reference" readonly>
<label>Number</label>
<input type="text" name="number" ng-model="entry.number">
<label>Payee</label>
<input type="text" name="payee" ng-model="entry.payee" >
<label>Memo</label>
<input type="text" name="memo" ng-model="entry.memo">
<label>Account</label>
<input type="text" name="account" ng-model="entry.account" listaccts>
<label>Payment</label>
<input type="text" name="payment" ng-model="entry.payment" ng-disabled="disablePayment" ng-mousedown="clearAmt('payment')" maskmoney>
<label>Deposit</label>
<input type="text" name="deposit" ng-model="entry.deposit" ng-disabled="disableDeposit" ng-mousedown="clearAmt('deposit')" maskmoney>
</form>
</div><!--dialogForm-->
</div><!--ng-controller schRegDialog-->
</div><!--.container-->